2025-08-06 11:10:08 [error]: uncaughtException: тип Unable to compile TypeScript:
[96msrc/middleware/auth.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m84[0m       return res.status(401).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m93[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m93[0m       return res.status(error.statusCode).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m114[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m114[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m129[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m129[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m147[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m147[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m164[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m179[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m179[0m     return res.status(403).json({
[7m   [0m [91m    ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m193[0m:[93m14[0m - [91merror[0m[90m TS2769: [0mNo overload matches this call.
  Overload 1 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: "none"; }) | undefined): string', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'null'.
  Overload 2 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, options?: SignOptions | undefined): string', gave the following error.
    Type 'string' is not assignable to type 'number | StringValue | undefined'.
  Overload 3 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, callback: SignCallback): void', gave the following error.
    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.

[7m193[0m   return jwt.sign(payload, JWT_SECRET, {
[7m   [0m [91m             ~~~~[0m


TSError: тип Unable to compile TypeScript:
[96msrc/middleware/auth.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m84[0m       return res.status(401).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m93[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m93[0m       return res.status(error.statusCode).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m114[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m114[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m129[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m129[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m147[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m147[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m164[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m179[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m179[0m     return res.status(403).json({
[7m   [0m [91m    ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m193[0m:[93m14[0m - [91merror[0m[90m TS2769: [0mNo overload matches this call.
  Overload 1 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: "none"; }) | undefined): string', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'null'.
  Overload 2 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, options?: SignOptions | undefined): string', gave the following error.
    Type 'string' is not assignable to type 'number | StringValue | undefined'.
  Overload 3 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, callback: SignCallback): void', gave the following error.
    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.

[7m193[0m   return jwt.sign(payload, JWT_SECRET, {
[7m   [0m [91m             ~~~~[0m


    at createTSError (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1895:10
    at Object.require.extensions.<computed> [as .ts] (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {"error":{"diagnosticCodes":[2322,2322,2322,2322,2322,2322,2322,2769]},"exception":true,"date":"Wed Aug 06 2025 11:10:08 GMT+0000 (Coordinated Universal Time)","process":{"pid":6098,"uid":1000,"gid":1000,"cwd":"/workspace/blacktop-blackout-monorepo/apps/api","execPath":"/home/ubuntu/.nvm/versions/node/v22.16.0/bin/node","version":"v22.16.0","argv":["/workspace/blacktop-blackout-monorepo/node_modules/.bin/ts-node","/workspace/blacktop-blackout-monorepo/apps/api/src/main.ts"],"memoryUsage":{"rss":228864000,"heapTotal":141365248,"heapUsed":116718312,"external":4303294,"arrayBuffers":1300143}},"os":{"loadavg":[0.02,0.08,0.09],"uptime":2661.24},"trace":[{"column":12,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}]}
TSError: тип Unable to compile TypeScript:
[96msrc/middleware/auth.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m84[0m       return res.status(401).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m93[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m93[0m       return res.status(error.statusCode).json({
[7m  [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m114[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m114[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m129[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m129[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m147[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m147[0m       return res.status(401).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m164[0m       return res.status(403).json({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m179[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'Response<any, Record<string, any>>' is not assignable to type 'void'.

[7m179[0m     return res.status(403).json({
[7m   [0m [91m    ~~~~~~[0m
[96msrc/middleware/auth.ts[0m:[93m193[0m:[93m14[0m - [91merror[0m[90m TS2769: [0mNo overload matches this call.
  Overload 1 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: "none"; }) | undefined): string', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'null'.
  Overload 2 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, options?: SignOptions | undefined): string', gave the following error.
    Type 'string' is not assignable to type 'number | StringValue | undefined'.
  Overload 3 of 5, '(payload: string | object | Buffer, secretOrPrivateKey: Secret | JsonWebKeyInput | PrivateKeyInput, callback: SignCallback): void', gave the following error.
    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.

[7m193[0m   return jwt.sign(payload, JWT_SECRET, {
[7m   [0m [91m             ~~~~[0m


    at createTSError (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1895:10
    at Object.require.extensions.<computed> [as .ts] (/workspace/blacktop-blackout-monorepo/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
